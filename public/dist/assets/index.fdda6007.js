var G=Object.defineProperty,U=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var A=(e,n,a)=>n in e?G(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,x=(e,n)=>{for(var a in n||(n={}))H.call(n,a)&&A(e,a,n[a]);if(y)for(var a of y(n))B.call(n,a)&&A(e,a,n[a]);return e},g=(e,n)=>U(e,j(n));import{j as r,a as s,b as w,r as l,u as C,F as S,f as W,c as Y,d as K,e as J,g as k,h as X,i as Z,k as ee,l as se,m as ne,n as ae,R as te,o as ie,P as oe,t as re}from"./vendor.00936654.js";const ce=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}};ce();const I=({label:e,value:n})=>r("div",{className:"game-information-block",children:[s("div",{className:"game-information-block-label",children:e}),s("div",{className:"game-information-block-value",children:n})]}),le=({player:e})=>r("div",{className:"game-information",children:[s("div",{className:"logo",children:s("img",{src:"/img/logo.svg",alt:"logo hacky"})}),s(I,{label:"Score",value:e.globalScore})]});const _="CREATE_OR_GET_PLAYER",$="ADD_SCORE",z="REMOVE_SCORE",R="SAVE_PLAYER",D="ADD_MISSION_ACHIEVED",de=(e,n)=>a=>{w({method:"post",url:"/api/player/",data:{pseudo:e,gameId:n},withCredentials:!0}).then(t=>{a({type:_,payload:t.data})}).catch(t=>console.log(t))},O=e=>n=>{n({type:$,payload:e})},ue=e=>n=>{n({type:z,payload:e})},F=e=>n=>{n({type:D,payload:e})},me=(e,n)=>a=>{w({method:"put",url:`/api/player/${n.id}`,data:{gameId:e,globalScore:n.globalScore,step:n.step,missionsAchieved:n.missionsAchieved},withCredentials:!0}).then(t=>{a({type:R,payload:t.data})}).catch(t=>console.log(t))},pe=({game:e,player:n})=>{const[a,t]=l.exports.useState(n.name||""),i=C(),o=c=>{c.preventDefault(),i(de(a,e._id))};return r("div",{className:"welcome-container",children:[r("div",{className:"title",children:["Bienvenue dans ",e.name]}),s("div",{className:"description",children:e.description}),r("div",{className:"pseudo-form",children:[r("div",{className:"pseudo-label",children:["Entrez votre pseudo pour commencer \xE0 jouer",s("div",{className:"pseudo-resume-game",children:"( ou pour reprendre une partie )"})]}),s("input",{className:"pseudo-input",type:"text",value:a,onChange:c=>t(c.target.value),placeholder:"Entrez votre pseudo"}),s("button",{className:"next-button pseudo-submit",onClick:o,children:"Commencer"})]})]})};const he=({socialNetworkName:e})=>s("div",{className:"navbar",children:s("div",{className:"social-network-name",children:e})}),ve=({coverPicture:e})=>s("div",{className:"account-cover",children:s("img",{className:"account-cover-picture",src:`/img/${e}`,alt:"cover-account-image"})}),Ne=({accountPicture:e})=>s("div",{className:"account-picture",children:s("div",{className:"account-picture-wrapper",children:s("img",{className:"account-picture-img",src:`/img/${e}`,alt:"account-picture"})})}),E=({icon:e,value:n})=>r("div",{className:"personal-information",children:[s(S,{className:"personal-information-icon",icon:e}),s("div",{className:"personal-value",children:n})]}),fe=({data:e})=>{const n=`N\xE9e le ${e.birthday}`,a=`Habite \xE0 ${e.location}`,t=`${e.job}`,i=`Avec ${e.firstNamePartner} ${e.lastNamePartner}`;return s("div",{className:"account-information",children:r("div",{className:"personal-informations",children:[s(E,{value:n,icon:W}),s(E,{value:a,icon:Y}),s(E,{value:t,icon:K}),s(E,{value:i,icon:J})]})})},be=({partnerName:e})=>r("div",{children:[s("span",{children:"avec"})," ",s("span",{className:"partnerName",children:e})]}),xe=({picturePath:e})=>{const n=`/img/${e}`;return s("div",{className:"post-img-container",children:s("img",{className:"post-img",alt:"post-img",src:n})})},ge=({post:e,partnerName:n})=>{const a=e.mentionPartner?s(be,{partnerName:n}):"",t=e.picturePath!==""?s(xe,{picturePath:e.picturePath}):"";return r("div",{className:"account-post",children:[r("div",{className:"post-header",children:[e.date,a]}),s("div",{className:"post-content",children:e.text}),t]})},Ee=({data:e})=>{const n=`${e.firstNamePartner} ${e.lastNamePartner}`,a=e.posts.map((t,i)=>s(ge,{post:t,partnerName:n},i));return s("div",{className:"social-network-posts",children:a})},ke=({data:e})=>{const n=`${e.firstName} ${e.lastName}`;return s("div",{className:"account-page-container",children:s("div",{className:"account-page-wrapper",children:r("div",{className:"account-page",children:[s(ve,{coverPicture:e.coverPicture}),s(Ne,{accountPicture:e.accountPicture}),s("div",{className:"account-name",children:n}),s(fe,{data:e}),s(Ee,{data:e})]})})})},we=({data:e})=>r("div",{className:"social-network-page",children:[s(he,{socialNetworkName:e.socialNetworkName}),s(ke,{data:e})]});const Ce=({data:e})=>{const n=`https://www.${e.socialNetworkName.toLowerCase()}.com/${e.firstName[0].toLowerCase()}.${e.lastName.toLowerCase()}`;return r("div",{className:"mission1-browser",children:[s("div",{className:"header"}),s("div",{className:"navigation-bar",children:n}),s(we,{data:e})]})};const Se=({userPassword:e,handleChange:n,handleSubmit:a,isInvalid:t=!0})=>s("div",{className:"mission1-check-password",children:r("form",{className:"mission1-check-password-form",onSubmit:a,children:[s("label",{className:"label-check-password",children:"Mot de passe"}),s("input",{className:"input-check-password",type:"text",value:e,placeholder:"Entrer le mot de passe",onChange:n}),t?s("span",{className:"invalid-message",children:"Mot de passe incorrect"}):"",s("button",{className:"button-submit-check-password",type:"submit",children:"Valider"})]})}),ye=({mission:e,handleChangePassword:n,userPassword:a,handleSubmitPasswordCheck:t,isUserPasswordInvalid:i})=>r("div",{className:"mission1-content",children:[s(Ce,{data:e.specificData.dataFakeSocialNetwork}),s(Se,{handleChange:n,userPassword:a,isInvalid:i,handleSubmit:t})]}),Ae=({pseudo:e,handleclick:n})=>{const a=`Tu as trouv\xE9 le mot de passe de ${e}`;return r("div",{className:"mission-success-container",children:[s("div",{className:"title",children:"F\xE9licitation !!!!"}),s("div",{className:"subtitle",children:a}),s("button",{className:"next-button show-explanation",onClick:n,children:`Voir les erreurs faites par ${e}`})]})};const Pe=({pseudo:e,handleclick:n})=>r("div",{className:"mission-explanation",children:[s("h1",{className:"title",children:" Explication"}),s("h2",{className:"subtitle",children:`Les erreurs de ${e}`}),r("p",{children:["Comme vous l'avez devin\xE9, la victime a utilis\xE9 des donn\xE9es personnelles, facilement trouvables sur les r\xE9seaux sociaux. ",s("br",{}),s("br",{}),"La seconde erreur a \xE9t\xE9 d'avoir utilis\xE9 un mot de passe trop simple et donc trop faible. En effet, un hacker va pouvoir avec les outils qu'il a sa disposition et sans m\xEAme se renseigner sur vous, trouver ce mot de passe, car les mots utilis\xE9s sont fr\xE9quemment utilis\xE9s dans d'autres mots de passe."]}),s("h2",{className:"subtitle",children:"Cr\xE9er un mot de passe fort"}),"Vos mots de passe doivent respecter les r\xE8gles suivantes :",r("ul",{className:"rules-password-explanation",children:[r("li",{children:["Un mot de passe doit contenir au minimum ",s("b",{children:"12 caract\xE8res"})]}),r("li",{children:["Avec ",s("b",{children:"4 types de caract\xE8res diff\xE9rents "})," (des minuscules, des majuscules, des chiffres et des caract\xE8res sp\xE9ciaux)"]}),r("li",{children:["Il ne doit rien dire sur vous (",s("b",{children:"pas de donn\xE9es personnelles"}),")"]}),r("li",{children:[s("b",{children:"Un compte = un nouveaux mot de passe "}),"(afin d'\xE9viter d'\xEAtre pirater sur tous vos comptes)"]}),r("li",{children:["Ne jamais \xE9crire vos mot de passe dans ",s("b",{children:"un espace non s\xE9curis\xE9"})," (smartphone, post-it, fichier texte, etc.)",s("ul",{children:s("li",{children:"Il est conseiller d'utilis\xE9 un gestionnaire de mot de passe comme keepass, lastpass, bitwarden"})})]})]}),s("button",{className:"next-button",onClick:n,children:"Mission suivante"})]}),T=e=>({missionID:n,handleClickForNextMission:a})=>{const[t,i]=l.exports.useState(1),[o,c]=l.exports.useState({}),u=k(d=>d.missionReducer);return l.exports.useEffect(()=>{const d=u.find(N=>N._id===n);c(d)},[n]),s(e,{mission:o,stepMission:t,handleSetStepMission:d=>{i(d)},handleClickForNextMission:a})},q=({mission:e,missionRules:n,handleClick:a})=>s("div",{className:"mission-intro",children:r("div",{className:"mission-intro-content",children:[s("div",{className:"mission-name",children:e.name}),s("div",{className:"mission-description",children:e.description}),s("div",{className:"mission-rules",children:n}),s("button",{className:"next-button",onClick:a,children:"Pr\xEAt !"})]})}),Me=({mission:e,stepMission:n,handleSetStepMission:a,handleClickForNextMission:t})=>{const[i,o]=l.exports.useState(""),[c,u]=l.exports.useState(!1),p=C(),d=()=>{const m=n+1;switch(a(m),m){case 2:p(O(5e3));break}},N=m=>{o(m.target.value)},b=m=>{m.preventDefault(),i!==e.specificData.passToFind?(u(!0),p(ue(250))):(p(F(e._id)),u(!1),a(3))};let f="";const h=e&&e.specificData&&e.specificData.dataFakeSocialNetwork.firstName,v=s("p",{children:"5 000 points vont vous \xEAtre attribu\xE9s d\xE8s le d\xE9part de la mission. \xC0 chaque tentative rat\xE9e, vous perdrez des points -250 points. (score min 500 pts)"});switch(n){case 1:f=s(q,{missionRules:v,mission:e,handleClick:d});break;case 2:f=s(ye,{userPassword:i,handleChangePassword:N,isUserPasswordInvalid:c,handleSubmitPasswordCheck:b,mission:e});break;case 3:f=s(Ae,{pseudo:h,handleclick:d});break;case 4:f=s(Pe,{pseudo:h,handleclick:t});break}return s("div",{className:"mission1-container",children:f})},Ie=T(Me);const _e=({index:e,extraClass:n,text:a,handleClick:t})=>s("div",{className:`mission-quizz-answer ${n}`,"data-index":e,onClick:t,children:a}),$e=({question:e,handleClick:n,handleIsCorrectAnswer:a})=>{const[t,i]=l.exports.useState(!1),[o,c]=l.exports.useState("");l.exports.useEffect(()=>{i(!1),c("")},[e]);const u=o!==""?"displayed":"",p=o!==""?r(l.exports.Fragment,{children:[s("div",{className:"label-state-answer",children:t?"Bonne r\xE9ponse":"Mauvaise r\xE9ponse"}),s("div",{className:"content",children:e.explanation})]}):"",d=o!==""?s("button",{className:"next-button",onClick:n,children:"Question suivantes"}):"",N=h=>{if(o!=="")return;const v=h.target.dataset.index,m=parseInt(v)===e.correctAnswerIndex;c(v),i(m),m&&a()},b=h=>o===""?"":parseInt(o)===h?t?"success":"failed":!t&&e.correctAnswerIndex===h?"success":"",f=e.answers.map((h,v)=>{const m=b(v);return s(_e,{extraClass:m,text:h,index:v,handleClick:N},v)});return r("div",{className:"mission-quizz",children:[s("div",{className:"mission-quizz-question",children:e.text}),s("div",{className:"mission-quizz-answers",children:f}),s("div",{className:`mission-quizz-explanation-container ${u}`,"data-correct-answer":t,children:p}),s("div",{className:"btn-next-question-container",children:d})]})};const ze=({questions:e,handleIsCorrectAnswer:n,handleEndQuizz:a})=>{const[t,i]=l.exports.useState(0),o=()=>{const c=t+1;c<e.length?i(c):a()};return r("div",{className:"mission-quizz-container",children:[s("div",{className:"mission-quizz-title",children:"Quizz"}),r("div",{className:"mission-quizz-question-container",children:[s("div",{className:"mission-quizz-length",children:`${t+1} / ${e.length}`}),s($e,{question:e[t],handleClick:o,handleIsCorrectAnswer:n})]})]})},Re=({nbCorrectAnswer:e,total:n,handleClick:a})=>r("div",{className:"mission-success-container",children:[s("div",{className:"title",children:"Quizz Termin\xE9"}),s("div",{className:"subtitle",children:`Vous avez eu ${e} bonne r\xE9ponses sur ${n} questions`}),s("button",{className:"next-button",onClick:a,children:"OK"})]}),De=({mission:e,stepMission:n,handleSetStepMission:a,handleClickForNextMission:t})=>{const[i,o]=l.exports.useState(0),c=C(),u=()=>{const b=n+1;a(b),b===3&&c(F(e._id))},p=()=>{c(O(250)),o(i+1)};let d="";const N=s("p",{children:"Pour chaque bonne r\xE9ponse, vous gagnerez 250 pts"});switch(n){case 1:d=s(q,{missionRules:N,mission:e,handleClick:u});break;case 2:d=s(ze,{questions:e.specificData.questions,handleIsCorrectAnswer:p,handleEndQuizz:u});break;case 3:d=s(Re,{nbCorrectAnswer:i,total:e.specificData.questions.length,handleClick:t});break}return s("div",{className:"mission2-container",children:d})},Oe=T(De),Fe=({player:e,game:n,handleClickForNextMission:a})=>{let t="";switch(e.step){case 1:t=s(pe,{game:n,player:e});break;case 2:t=s(Ie,{missionID:n.missions[0],handleClickForNextMission:a});break;case 3:t=s(Oe,{missionID:n.missions[1],handleClickForNextMission:a});break}return s("div",{className:"mission-container",children:t})};const Te=({mission:e,isActive:n=!1,isAchieved:a=!1})=>{const t=n?"":"is-disabled",i=a?s(S,{className:"mission-achieved-icon",icon:X}):"";return r("div",{className:`mission-information ${t}`,children:[r("div",{className:"mission-information-content",children:[s("div",{className:"mission-name",children:e.name}),s("div",{className:"mission-description",children:e.description})]}),i]})},qe=({game:e,player:n})=>{const t=k(i=>i.missionReducer).map(i=>{const o=n.missionsAchieved.indexOf(i._id)!==-1,c=e.currentMissionId===i._id;return s(Te,{isActive:c,mission:i,isAchieved:o},i._id)});return r("div",{className:"missions-informations",children:[s("div",{className:"title",children:"Vos missions"}),s("div",{className:"mission-list",children:t})]})},V="GET_GAME_INFO",L="ADD_CURRENT_MISSION_ID",Ve=()=>e=>{w({method:"get",url:"/api/game/Hacky",withCredentials:!0}).then(n=>{e({type:V,payload:n.data})}).catch(n=>console.log(n))},P=e=>n=>{n({type:L,payload:e})},Q="GET_MISSIONS",Le=e=>n=>{w({method:"get",url:`/api/mission/gameMissions/${e}`,withCredentials:!0}).then(a=>{n({type:Q,payload:a.data})}).catch(a=>console.log(a))};const Qe=({handleSubmit:e})=>r("div",{className:"form-facebook-container",children:[s("img",{className:"logo-facebook",src:"/img/logo-facebook.svg",alt:"logo facebook"}),r("form",{className:"form-facebook",onSubmit:e,children:[s("div",{className:"input-facebook-wrapper",children:s("input",{name:"email",className:"facebook-input",autoFocus:!0,placeholder:"Adresse e-mail ou num\xE9ro de t\xE9l."})}),s("div",{className:"input-facebook-wrapper",children:s("input",{name:"password",type:"password",placeholder:"Mot de passe",className:"facebook-input"})}),s("button",{type:"submit",className:"submit-facebook-form",children:"Se Connecter"}),s("div",{className:"password-forget-label",onClick:e,children:"Mot de passe oubli\xE9 ?"})]})]});const Ge=({content:e,extraClass:n,handleClose:a})=>r("div",{className:`popup-container ${n}`,children:[s("div",{className:"popup-close",onClick:a,children:s(S,{className:"close-icon",icon:Z})}),e]}),M=({isSuccess:e=!1,title:n,subTitle:a,text:t,handleClick:i})=>r("div",{className:"mission3-explanation",children:[s("div",{className:"title",style:{color:e?"green":"red"},children:n}),s("div",{className:"subtitle",children:a}),s("div",{className:"text",children:t}),s("div",{className:"disclaimer",children:e?"":"Aucune inquietude vos identifiants Facebook n'ont pas \xE9t\xE9 sauvegard\xE9s"}),s("button",{className:"next-button",onClick:i,children:"Quitter la popup"})]}),Ue=({showPopup:e,handleClose:n})=>{const[a,t]=l.exports.useState(1),i=()=>{t(2)},o=d=>{d.preventDefault(),t(3)};let c="";const u="En effet, il ne faut JAMAIS se connecter sur un site qui n'est pas le site d'origine. ";switch(a){case 1:c=s(Qe,{handleSubmit:o});break;case 2:c=s(M,{isSuccess:!0,title:"Bien jou\xE9 !",subTitle:"Vous avez \xE9viter de justesse \xE0 ce pi\xE8ge.",handleClick:n,text:u});break;case 3:c=s(M,{title:"Perdu !",subTitle:"Vous \xEAtre tomb\xE9s dans le pi\xE8ge.",handleClick:n,text:u});break}return s("div",{children:e?s(Ge,{extraClass:"popup-share-facebook",content:c,handleClose:i}):""})},je=({player:e})=>{const[n,a]=l.exports.useState(!1),t=()=>{a(!1)},i=()=>{a(!0)},o=n?s(Ue,{showPopup:n,handleClose:t}):"";return r("div",{className:"hacky-end-page",children:[s("div",{className:"logo",children:s("img",{src:"/img/logo.svg",alt:"logo hacky"})}),s("div",{className:"title",children:"Merci d'avoir jou\xE9"}),s("div",{className:"subtitle",children:"A bient\xF4t !"}),s(I,{label:"Votre score",value:e.globalScore}),s("button",{className:"share-on-facebook",onClick:i,children:"Partager sur Facebook"}),o]})},He=()=>{const e=C(),n=k(o=>o.gameReducer),a=k(o=>o.playerReducer);l.exports.useEffect(()=>{e(Ve())},[]),l.exports.useEffect(()=>{n._id&&e(Le(n._id))},[n]),l.exports.useEffect(()=>{switch(a.step){case 2:e(P(n.missions[0]));break;case 3:e(P(n.missions[1]));break}},[a.step]);const t=()=>{const o=g(x({},a),{step:a.step+1});e(me(n._id,o))};let i="";switch(a.step){case 1:case 2:case 3:i=r(l.exports.Fragment,{children:[s(le,{player:a}),s(Fe,{game:n,player:a,handleClickForNextMission:t}),s(qe,{game:n,player:a})]});break;case 4:i=s(je,{player:a});break}return s("div",{className:"game-controller",children:i})};function Be(){return s("div",{className:"App",children:s(He,{})})}const We={name:"",currentMissionId:""};var Ye=(e=We,n)=>{switch(n.type){case V:return n.payload;case L:return g(x({},e),{currentMissionId:n.payload})}return e};const Ke=[];var Je=(e=Ke,n)=>{switch(n.type){case Q:return n.payload}return e};const Xe={name:"",step:1,globalScore:0,missionsAchieved:[]};var Ze=(e=Xe,n)=>{switch(n.type){case _:return n.payload;case $:return g(x({},e),{globalScore:e.globalScore+n.payload});case z:let a=e.globalScore-n.payload;return a<=500&&(a=500),g(x({},e),{globalScore:a});case D:const t=x({},e);return t.missionsAchieved.push(n.payload),t;case R:return n.payload}return e},es=ee({gameReducer:Ye,missionReducer:Je,playerReducer:Ze});const ss=se(es,ne(ae(re)));te.render(s(ie.StrictMode,{children:s(oe,{store:ss,children:s(Be,{})})}),document.getElementById("root"));
